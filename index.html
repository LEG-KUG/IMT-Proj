<html>

  <head>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>PlaceClone</title>
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://code.jquery.com/jquery.min.js"></script>
    <script src="/js/place.js"></script>
    <link rel="stylesheet" href="/css/styles.css">

  </head>

  <body>

    <div id="constraint">
    <div style = "text-align:center;">

    <canvas id="place" height="500" width="500"></canvas>

    <canvas id="grid" height="500" width="500"></canvas>


      <div class="controls">

        X: <input type="number" min="0" max="50" id="x-coord">

        Y: <input type="number" min="0" max="50" id="y-coord">

        Color: <input type="color" id="color">

        <button id="submit">Place Color</button>
      </div>

    </div>
    </div>

  </body>


  <script type="text/javascript">

$(document).ready(() => {
  var socket = io()

  var canvas = $("#place")[0]
  var ctx = canvas.getContext("2d")

  socket.on("canvas", canvasData => {
    canvasData.forEach((row, rowIndex) => {
      // console.log(row)
      row.forEach((col, colIndex) => {
        // console.log(colIndex, rowIndex)
        ctx.fillStyle = col
        ctx.fillRect(colIndex * 10, rowIndex * 10, 10, 10)
      })
    })
  })

  $("#submit").click(() => {
    socket.emit("color", {
      col: parseInt($("#x-coord").val()),
      row: parseInt($("#y-coord").val()),
      color: $("#color").val()
    })
  })
})

  </script>

</html>
